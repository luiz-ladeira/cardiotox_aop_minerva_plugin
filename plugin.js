!function r(o,a,i){function s(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,a,i)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<i.length;e++)s(i[e]);return s}({1:[function(e,t,n){function i(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=o[o.length-1];if((t=t||{}).insertAt=t.insertAt||"bottom","top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),o.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}var o=[];t.exports={createLink:function(e,t){var n,r,o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("link");for(n in a.href=e,a.rel="stylesheet",t)t.hasOwnProperty(n)&&(r=t[n],a.setAttribute("data-"+n,r));o.appendChild(a)},createStyle:function(e,t,n){n=n||{};var r,o,a=document.createElement("style");for(r in a.type="text/css",t)t.hasOwnProperty(r)&&(o=t[r],a.setAttribute("data-"+r,o));a.sheet?(a.innerHTML=e,a.sheet.cssText=e,i(a,{insertAt:n.insertAt})):a.styleSheet?(i(a,{insertAt:n.insertAt}),a.styleSheet.cssText=e):(a.appendChild(document.createTextNode(e)),i(a,{insertAt:n.insertAt}))}}},{}],2:[function(e,t,n){var d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,r=[],o=!0,t=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!n||r.length!==n);o=!0);}catch(e){t=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(t)throw a}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")};e("./styles.css");window.minervaDefine(function(){return{register:function(c){Promise.all([fetch("https://sheets.googleapis.com/v4/spreadsheets/1lYtwYLNLfGlhj7gbbkaNCwYNsuGKM5L6uJSydlXEGLE/values/Sheet1?key=AIzaSyAIaStdq_ebxgOE7l5K5mBrBSRrf3Ywayg").then(function(e){if(e.ok)return e.json();throw new Error("Sheet fetch failed: "+e.statusText)}),c.project.data.getAllBioEntities()]).then(function(e){var n,t,r,o,a,e=d(e,2),i=e[0],e=e[1],i=((e,t)=>{var n=e.values[0].indexOf(t);if(-1===n)throw new Error('Column "'+t+'" not found');return{idx:n,rows:e.values.slice(1)}})(i,"ke_name"),s=i.rows,l=i.idx,i=s.map(function(e){return e[l]}).filter(Boolean),s=(n=e,i.map(function(t){var e=n.find(function(e){return e.getName()===t});return e?{ke:t,be:e}:null}).filter(Boolean));e=c.element,i=s,(e=$(e)).empty(),s=$('\n    <div class="d-flex justify-content-between mb-2">\n      <input type="text" id="search-box" class="form-control form-control-sm w-50" placeholder="Search KE name...">\n      <button class="btn btn-sm btn-primary" id="access-data-btn">Access data</button>\n    </div>\n  '),t=$('<div class="table-wrapper"></div>'),r=$('<table class="table table-bordered table-sm"></table>'),o=$("<thead><tr><th>KE Name</th><th>Type</th><th>Model</th></tr></thead>"),a=$("<tbody></tbody>"),i.forEach(function(e){var t=e.ke,n=e.be,e=$("<tr>\n      <td>"+t+"</td>\n      <td>"+n.getType()+"</td>\n      <td>"+n.getModelId()+"</td>\n    </tr>");e.on("click",function(){window.minerva.project.map.showBioEntity({id:n.getId(),modelId:n.getModelId(),type:n.getType()})}),a.append(e)}),r.append(o).append(a),t.append(r),e.append(s,t),$("#access-data-btn").on("click",function(){return window.open("https://docs.google.com/spreadsheets/d/1lYtwYLNLfGlhj7gbbkaNCwYNsuGKM5L6uJSydlXEGLE","_blank")}),$("#search-box").on("input",function(){var t=$(this).val().toLowerCase();a.find("tr").each(function(){var e=$(this).find("td:first").text().toLowerCase();$(this).toggle(e.includes(t))})})}).catch(function(e){$(c.element).html('<p style="color:red;">'+e.message+"</p>"),console.error(e)})},unregister:function(){},getName:function(){return"KE Mapper"},getVersion:function(){return"1.0.0"}}})},{"./styles.css":3}],3:[function(e,t,n){var r=".table-wrapper {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 400px;\n}\ntd,\nth {\n  white-space: nowrap;\n}\n/*# sourceMappingURL=styles.css.map */\n";e("browserify-css").createStyle(r,{href:"src\\js\\styles.css"},{insertAt:"bottom"}),t.exports=r},{"browserify-css":1}]},{},[2]);
