!function r(o,a,s){function i(t,e){if(!a[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=a[t]={exports:{}},o[t][0].call(n.exports,function(e){return i(o[t][1][e]||e)},n,n.exports,r,o,a,s)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)i(s[e]);return i}({1:[function(e,t,n){function s(e,t){var n=document.head||document.getElementsByTagName("head")[0],r=o[o.length-1];if((t=t||{}).insertAt=t.insertAt||"bottom","top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),o.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}var o=[];t.exports={createLink:function(e,t){var n,r,o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("link");for(n in a.href=e,a.rel="stylesheet",t)t.hasOwnProperty(n)&&(r=t[n],a.setAttribute("data-"+n,r));o.appendChild(a)},createStyle:function(e,t,n){n=n||{};var r,o,a=document.createElement("style");for(r in a.type="text/css",t)t.hasOwnProperty(r)&&(o=t[r],a.setAttribute("data-"+r,o));a.sheet?(a.innerHTML=e,a.sheet.cssText=e,s(a,{insertAt:n.insertAt})):a.styleSheet?(s(a,{insertAt:n.insertAt}),a.styleSheet.cssText=e):(a.appendChild(document.createTextNode(e)),s(a,{insertAt:n.insertAt}))}}},{}],2:[function(e,t,n){var d,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var n=t,r=[],o=!0,t=!1,a=void 0;try{for(var s,i=e[Symbol.iterator]();!(o=(s=i.next()).done)&&(r.push(s.value),!n||r.length!==n);o=!0);}catch(e){t=!0,a=e}finally{try{!o&&i.return&&i.return()}finally{if(t)throw a}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=(e("./styles.css"),"1lYtwYLNLfGlhj7gbbkaNCwYNsuGKM5L6uJSydlXEGLE"),o="AIzaSyAIaStdq_ebxgOE7l5K5mBrBSRrf3Ywayg",p="ke_name",f="https://docs.google.com/spreadsheets/d/"+r;d=window.minerva.plugins.registerPlugin({pluginName:"KE Mapper",pluginVersion:"1.0.0",pluginUrl:"https://raw.githubusercontent.com/luiz-ladeira/cardiotox_aop_minerva_plugin/master/plugin.js"}).element,Promise.all([(async()=>{var e=await fetch("https://sheets.googleapis.com/v4/spreadsheets/"+r+"/values/Sheet1?key="+o);if(e.ok)return e.json();throw new Error("Sheet fetch failed: "+e.statusText)})(),window.minerva.getAllBioEntities()]).then(function(e){var t,o,n,r,a,s,i,l,e=u(e,2),c=e[0];t=d,c=c,o=e[1],(t=$(d)).empty(),e=c.values[0],c=c.values.slice(1),n=$('\n    <div class="d-flex justify-content-between mb-2">\n      <input type="text" id="search-box" class="form-control form-control-sm w-50" placeholder="Search...">\n      <button class="btn btn-sm btn-primary" id="access-data-btn">Access data</button>\n    </div>\n  '),r=$('<div class="table-wrapper"></div>'),a=$('<table class="table table-bordered table-sm"></table>'),s=$("<thead><tr></tr></thead>"),i=$("<tbody></tbody>"),e.forEach(function(e){s.find("tr").append("<th>"+e+"</th>")}),l=e.indexOf(p),c.forEach(function(e){var t,n,r=$("<tr></tr>");e.forEach(function(e){r.append("<td>"+(e||"")+"</td>")}),-1!==l&&e[l]&&(t=e[l],n=o.find(function(e){return e.getName()===t}))&&(r.css("cursor","pointer"),r.on("click",function(){window.minerva.showBioEntity({id:n.getId(),modelId:n.getModelId(),type:n.getType()})})),i.append(r)}),a.append(s).append(i),r.append(a),t.append(n,r),$("#access-data-btn").on("click",function(){return window.open(f,"_blank")}),$("#search-box").on("input",function(){var t=$(this).val().toLowerCase();i.find("tr").each(function(){var e=$(this).text().toLowerCase();$(this).toggle(e.includes(t))})})}).catch(function(e){$(d).html('<p style="color:red;">'+e.message+"</p>"),console.error(e)})},{"./styles.css":3}],3:[function(e,t,n){var r=".table-wrapper {\n  overflow-x: auto;\n  overflow-y: auto;\n  max-height: 400px;\n}\ntd,\nth {\n  white-space: nowrap;\n}\n/*# sourceMappingURL=styles.css.map */\n";e("browserify-css").createStyle(r,{href:"src\\js\\styles.css"},{insertAt:"bottom"}),t.exports=r},{"browserify-css":1}]},{},[2]);
